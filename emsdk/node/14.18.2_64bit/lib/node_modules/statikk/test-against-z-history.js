const fs = require('fs');

const {getPortNumberForPath} = require('./lib/get-port.js');

const zhist = fs.readFileSync('/Users/paulirish/.z', 'utf-8');

const lines = zhist.split('\n');
const paths = lines.map(line => line.split('|')).sort((a, b) => a[1] - b[1]).map(arr => arr[0]);
console.log(paths.length, Array.from(new Set(paths)).length);

const ports = [];

const lol = paths.map(path => ({
    path, 
    port: getPortNumberForPath(path),
})).sort((a, b) => a.port - b.port);

console.log(lol);

lol.forEach(obj => {
    ports.push(obj.port);

})


setTimeout(_ => console.log(3), 6000);
console.log(ports.length, Array.from(new Set(ports)).length);
